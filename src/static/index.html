<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestionnaire d'Obsolescence IT</title>
    <script>
      (function(){
        try {
          var base = null;
          var meta = document.querySelector('meta[name="api-base-url"]');
          if (meta && meta.content) base = meta.content;
          var qs = new URLSearchParams(window.location.search);
          var p = qs.get('api');
          if (p) base = p;
          var ls = null;
          try { ls = window.localStorage.getItem('API_BASE_URL'); } catch(e) {}
          if (ls) base = ls;
          if (!base) base = window.location.origin;
          base = String(base);
          if (base.endsWith('/')) base = base.slice(0,-1);
          window.__API_BASE_URL = base;
          try { window.localStorage.setItem('API_BASE_URL', base); } catch(e) {}

          var origFetch = window.fetch;
          if (typeof origFetch === 'function') {
            window.fetch = function(input, init){
              try {
                var url = (typeof input === 'string') ? input : (input && input.url ? input.url : '');
                if (url && url.indexOf('/api') === 0) {
                  var newUrl = base + url;
                  if (typeof input === 'string') {
                    return origFetch(newUrl, init);
                  } else {
                    var req = new Request(newUrl, input);
                    return origFetch(req, init);
                  }
                }
              } catch(e) {}
              return origFetch(input, init);
            };
          }
        } catch(e) {
          // fail safe: do nothing, keep default fetch
        }
      })();
    </script>
    <script type="module" crossorigin src="/assets/index-xkNNNpI3.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-C94EEPIY.css">
  </head>
  <body>
    <div id="root"></div>
  </body>
</html>
